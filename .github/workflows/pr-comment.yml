# ì´ GitHub Actions ì›Œí¬í”Œë¡œìš°ëŠ” í’€ ë¦¬í€˜ìŠ¤íŠ¸ ë¦¬ë·°ê°€ ì œì¶œë  ë•Œ Slack ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
#
# ì‘ì—…:
# - notify: ì´ ì‘ì—…ì€ í’€ ë¦¬í€˜ìŠ¤íŠ¸ ë¦¬ë·°ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ë¥¼ í¬í•¨í•œ Slack ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
#
# ë‹¨ê³„:
# - Slack ì•Œë¦¼ ë³´ë‚´ê¸°: `curl`ì„ ì‚¬ìš©í•˜ì—¬ Slack ì›¹í›… URLì— POST ìš”ì²­ì„ ë³´ë‚´ë©°, ë‹¤ìŒ ì„¸ë¶€ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:
#   - ë¦¬ë·°ì–´: ë¦¬ë·°ì–´ì˜ GitHub ì‚¬ìš©ì ì´ë¦„.
#   - PR ì œëª©: í’€ ë¦¬í€˜ìŠ¤íŠ¸ì˜ ì œëª©.
#   - ë¦¬ë·° ë‚´ìš©: ë¦¬ë·°ì˜ ë³¸ë¬¸.
#   - ë¦¬ë·° ìƒíƒœ: ë¦¬ë·°ì˜ ìƒíƒœ (ì˜ˆ: ìŠ¹ì¸ë¨, ë³€ê²½ ìš”ì²­ë¨).
#   - ë§í¬: GitHubì—ì„œ ë¦¬ë·°ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” URL.
#
# @see https://github.com/depromeet/Took-FE/settings/secrets/actions
#
# ì°¸ê³ :
# - Slack ì›¹í›… URLì€ ë¦¬í¬ì§€í† ë¦¬ ì‹œí¬ë¦¿ì— `SLACK_WEBHOOK_URL`ë¡œ ì €ì¥ë˜ì–´ìˆìŠµë‹ˆë‹¤.

name: PR Review to Slack

on:
  pull_request_review:
    types: [submitted] # ë¦¬ë·°ê°€ ì œì¶œë  ë•Œ ì‹¤í–‰

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Slack Notification
        run: |
          curl -X POST -H 'Content-type: application/json' --data '{
            "text": "ğŸ”” *ìƒˆë¡œìš´ PR ë¦¬ë·°ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!*\n
            *ë¦¬ë·°ì–´:* ${{ github.event.review.user.login }}\n
            *PR ì œëª©:* ${{ github.event.pull_request.title }}\n
            *ë¦¬ë·° ë‚´ìš©:* ${{ github.event.review.body }}\n
            *ë¦¬ë·° ìƒíƒœ:* ${{ github.event.review.state }}\n
            *ë§í¬:* <${{ github.event.review.html_url }}|ë¦¬ë·° ë³´ê¸°>"
          }' ${{ secrets.SLACK_WEBHOOK_URL }}
